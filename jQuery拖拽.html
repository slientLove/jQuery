<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>插件</title>
	<style type="text/css">
		*{margin: 0;padding: 0;}
		#div1{ width: 100px;height: 100px;background: red;position: absolute; }
	</style>
	<script src="jquery.js"></script>
	<script type="text/javascript">
		$(document).ready(function(){
			var disX = 0;
			var disY = 0;
			$('#div1').mousedown(function(ev){

	//ev.pageX取得鼠标点击页面上的x坐标,ev.pageY取得竖直坐标
	//offset().left去得元素到屏幕左边的距离
				disX = ev.pageX - $(this).offset().left;
				disY = ev.pageY - $(this).offset().top;
	//用jQuery时都是方法，没有匿名函数
				$(document).mousemove(function(ev){
					$('#div1').css('left',ev.pageX-disX);
					$('#div1').css('top',ev.pageY-disY);
				});
				$('#div1').mouseup(function(){
					$(document).off();		//移除事件
				});
				return false;			//阻止默认事件
			})
		});
	</script>
</head>
<body>
		<div id="div1"></div>
</body>
</html>